# Icinga2 Check plugins
This repository contains checks for icinga2 monitoring of FahrplanDatenGarten and some scripts to create debian packages for them.

## Add check
1. Create a directory named `check_$checkname`
2. Write the check and add it to the directory
3. Create a `metadata.yml` file within this directory. Here is an example using python with one check file
    ```yaml
    package_name: fdgmon-check-$checkname
    directory_name: check_$checkname
    files:
      - src: file.py
        dest: usr/lib/monitoring/plugins/check_$checkname
        mode: 755
    version_git_autogenerated: true
    dependencies: 
      - python3
    description: Add here a description please
    source_maintainer: Name <email>
    source_license: MIT
    ``` 
4. Add the directory name to the global metadata.yml in the `packages` section

## Add meta-package
1. Create a directory named `meta_$groupname`
2. Create a `metadata.yml` file within this directory. Here is an example:
    ```yaml
    package_name: fdgmon-group-$groupname
    directory_name: meta_$groupname
    files: []
    version_git_autogenerated: true
    dependencies: 
    description: Meta package containing all packages
    source_maintainer: FahrplanDatenGarten Debian Packaging Team <debian@fahrplandatengarten.de>
    source_license: MIT
    ```
